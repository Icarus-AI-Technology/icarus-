#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Executando validaÃ§Ãµes prÃ©-commit..."

# 1. Validar topologia IA
echo "\n1ï¸âƒ£ Validando topologia de IA..."
NODE_ENV=development node tools/ia/ia-validator.js
if [ $? -ne 0 ]; then
  echo "âŒ ValidaÃ§Ã£o de IA falhou! Corrija antes de commitar."
  exit 1
fi

# 2. Lint staged files
echo "\n2ï¸âƒ£ Executando lint-staged..."
pnpm lint-staged

echo "\nâœ… Todas as validaÃ§Ãµes passaram! Prosseguindo com commit..."
