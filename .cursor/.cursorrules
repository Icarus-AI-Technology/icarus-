# ICARUS v5.0 - Cursor AI Rules

## ğŸ¯ Contexto do Projeto

**Sistema:** ICARUS v5.0 - ERP para Distribuidores OPME  
**Stack:** React 18 + TypeScript 5.6 + Vite + Supabase  
**Design System:** OraclusX DS (Neumorphic 3D)  
**MÃ³dulos:** 58 mÃ³dulos funcionais  
**Status:** Auditoria completa em andamento

---

## âš ï¸ REGRA FUNDAMENTAL

### **NUNCA MODIFICAR CÃ“DIGO SEM APROVAÃ‡ÃƒO EXPLÃCITA**

Os agentes devem **APENAS**:
- âœ… Auditar e analisar
- âœ… Documentar gaps e issues
- âœ… Gerar relatÃ³rios
- âœ… Sugerir correÃ§Ãµes

Os agentes **NUNCA** devem:
- âŒ Modificar arquivos de cÃ³digo
- âŒ Criar novos componentes
- âŒ Alterar configuraÃ§Ãµes
- âŒ Aplicar correÃ§Ãµes automaticamente

---

## ğŸ“‹ Protocolos de ExecuÃ§Ã£o

### 1. Verificar STATUS.json
Antes de iniciar qualquer tarefa, verificar:
```json
{
  "status": "idle|running|completed|failed|blocked",
  "progress": 0-100,
  "locked_resources": []
}
```

### 2. Adquirir Locks
Para leitura de recursos crÃ­ticos:
```typescript
const locked = await acquireLock('resource-path', 'agent-id');
if (!locked) {
  // Aguardar ou abortar
}
```

### 3. Atualizar Progresso
Durante execuÃ§Ã£o, atualizar STATUS.json:
```json
{
  "status": "running",
  "progress": 45,
  "current_task": "Auditando componentes..."
}
```

### 4. Gerar RelatÃ³rio
Ao finalizar, criar REPORT.md com:
- Resumo executivo
- Detalhamento tÃ©cnico
- Gaps identificados
- RecomendaÃ§Ãµes

---

## ğŸ¨ PadrÃµes de CÃ³digo

### TypeScript
- âœ… Strict mode habilitado
- âœ… Props sempre tipadas
- âœ… Evitar `any`
- âœ… Usar tipos gerados do Supabase

### Nomenclatura
- Componentes: `PascalCase`
- VariÃ¡veis: `camelCase`
- Arquivos: `kebab-case.tsx`
- Hooks: `useCamelCase`
- Services: `PascalCaseService.ts`

### Design System OraclusX DS
- Usar **APENAS** componentes do DS
- Cor primÃ¡ria: `#6366F1` (indigo)
- Sombras neumÃ³rficas (4 tipos)
- Dark/Light mode obrigatÃ³rio
- Acessibilidade WCAG 2.1 AA

---

## ğŸ”§ Comandos DisponÃ­veis

```bash
# ValidaÃ§Ã£o
npm run type-check          # TypeScript check
npm run lint                # ESLint
npm run build               # Build production

# Testes
npm run test                # Unit tests
npm run test:e2e            # E2E Playwright
npm run qa:all              # QA completo

# Agentes
npm run setup:agents        # Criar estrutura
npm run audit:full          # Executar todos os agentes
npm run audit:agent -- 01   # Executar agente especÃ­fico
npm run report:generate     # Gerar relatÃ³rio consolidado

# Logs
npm run logs:agent -- 01    # Ver logs de um agente
npm run logs:all            # Ver todos os logs
```

---

## ğŸ“š ReferÃªncias Principais

- **Spec Completa:** `ICARUS_V5_SPEC_COMPLETO.md`
- **Design System:** `ORACLUSX_DS_COMPLETO.md`
- **Manual 58 MÃ³dulos:** `MANUAL_COMPLETO_58_MODULOS.md`
- **InventÃ¡rio:** `inventario.md`
- **README:** `README.md`

---

## ğŸš« Anti-PadrÃµes (EVITAR)

âŒ Modificar cÃ³digo sem aprovaÃ§Ã£o  
âŒ Ignorar erros TypeScript  
âŒ Usar inline styles  
âŒ Componentes fora do DS  
âŒ Commits sem mensagem semÃ¢ntica  
âŒ console.log em produÃ§Ã£o  
âŒ Hardcoded credentials  
âŒ Ignorar acessibilidade  
âŒ Quebrar convenÃ§Ãµes de nomenclatura  

---

## ğŸ“Š MÃ©tricas de Qualidade

### Targets
- TypeScript: 0 erros
- ESLint: 0 erros
- Bundle: < 280 KB
- Build time: < 4s
- Lighthouse: 90+
- Test Coverage: 85%+
- Acessibilidade: WCAG AA 100%

---

## ğŸ¯ Sistema de Agentes

### Grupos de ExecuÃ§Ã£o Paralela

**Grupo 1:** (30-45 min)
- 01 - Design System
- 02 - Frontend
- 07 - SeguranÃ§a

**Grupo 2:** (45-60 min)
- 03 - Backend
- 04 - IntegraÃ§Ãµes

**Grupo 3:** (60-90 min) - Aguarda Grupo 2
- 05 - IA
- 06 - MÃ³dulos

**Sequential:** (30-45 min) - Aguarda todos
- 08 - Testes
- 09 - Deploy

---

## ğŸ“ Suporte

**Orquestrador:** `.cursor/agents/00-ORCHESTRATOR.md`  
**Protocolos:** `.cursor/protocols/`  
**Templates:** `.cursor/templates/`  

---

**VersÃ£o:** 5.0.0  
**Data:** 2025-10-25T14:57:02.453Z  
**Status:** Sistema de Auditoria Ativo
